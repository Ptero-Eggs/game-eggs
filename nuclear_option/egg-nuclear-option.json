{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
    "meta": {
        "version": "PTDL_v2",
        "update_url": null
    },
    "exported_at": "2025-10-30T14:46:30+01:00",
    "name": "Nuclear Option",
    "author": "ptero@redbananaofficial.com",
    "description": "Fly near-future aircraft with immersive physics on intense battlefields, facing land, air and sea threats. Wage war against AI or other players with an array of potent weapons. Wield tactical and strategic nuclear weapons, capable of annihilating anything in their path.",
    "features": [],
    "docker_images": {
        "ghcr.io\/ptero-eggs\/steamcmd:debian": "ghcr.io\/ptero-eggs\/steamcmd:debian"
    },
    "file_denylist": [],
    "startup": "export LD_LIBRARY_PATH=\"$(pwd)\/linux64:$LD_LIBRARY_PATH\"; .\/NuclearOptionServer.x86_64",
    "config": {
        "files": "{\r\n    \"DedicatedServerConfig.json\": {\r\n        \"parser\": \"json\",\r\n        \"find\": {\r\n            \"ServerName\": \"{{server.build.env.SERVER_NAME}}\",\r\n            \"Password\": \"{{server.build.env.SERVER_PASSWORD}}\",\r\n            \"MaxPlayers\": \"{{server.build.env.MAX_PLAYERS}}\",\r\n            \"ModdedServer\": \"{{server.build.env.MODDED_SERVER}}\",\r\n            \"Port.Value\": \"{{server.build.default.port}}\",\r\n            \"QueryPort.Value\": \"{{server.build.env.QUERY_PORT}}\",\r\n            \"MissionDirectory\": \"\/home\/container\/NuclearOption-Missions\"\r\n        }\r\n    }\r\n}",
        "startup": "{\r\n    \"done\": \"[DedicatedServerManager] Waiting for Players before loading next map\"\r\n}",
        "logs": "{}",
        "stop": "^C"
    },
    "scripts": {
        "installation": {
            "script": "#!\/bin\/bash\r\n# steamcmd Base Installation Script\r\n\r\n## just in case someone removed the defaults.\r\nif [[ \"${STEAM_USER}\" == \"\" ]] || [[ \"${STEAM_PASS}\" == \"\" ]]; then\r\n    echo -e \"steam user is not set.\\n\"\r\n    echo -e \"Using anonymous user.\\n\"\r\n    STEAM_USER=anonymous\r\n    STEAM_PASS=\"\"\r\n    STEAM_AUTH=\"\"\r\nelse\r\n    echo -e \"user set to ${STEAM_USER}\"\r\nfi\r\n\r\n## download and install steamcmd\r\ncd \/tmp\r\nmkdir -p \/mnt\/server\/steamcmd\r\ncurl -sSL -o steamcmd.tar.gz https:\/\/steamcdn-a.akamaihd.net\/client\/installer\/steamcmd_linux.tar.gz\r\ntar -xzvf steamcmd.tar.gz -C \/mnt\/server\/steamcmd\r\nmkdir -p \/mnt\/server\/steamapps # Fix steamcmd disk write error when this folder is missing\r\ncd \/mnt\/server\/steamcmd\r\n\r\n# SteamCMD fails otherwise for some reason, even running as root.\r\n# This is changed at the end of the install process anyways.\r\nchown -R root:root \/mnt\r\nexport HOME=\/mnt\/server\r\n\r\n## install game using steamcmd\r\n.\/steamcmd.sh +force_install_dir \/mnt\/server +login ${STEAM_USER} ${STEAM_PASS} ${STEAM_AUTH} $( [[ \"${WINDOWS_INSTALL}\" == \"1\" ]] && printf %s '+@sSteamCmdForcePlatformType windows' ) +app_update ${SRCDS_APPID} $( [[ -z ${SRCDS_BETAID} ]] || printf %s \"-beta ${SRCDS_BETAID}\" ) $( [[ -z ${SRCDS_BETAPASS} ]] || printf %s \"-betapassword ${SRCDS_BETAPASS}\" ) ${INSTALL_FLAGS} validate +quit\r\n\r\n## set up 32 bit libraries\r\nmkdir -p \/mnt\/server\/.steam\/sdk32\r\ncp -v linux32\/steamclient.so ..\/.steam\/sdk32\/steamclient.so\r\n\r\n## set up 64 bit libraries\r\nmkdir -p \/mnt\/server\/.steam\/sdk64\r\ncp -v linux64\/steamclient.so ..\/.steam\/sdk64\/steamclient.so\r\n\r\n\r\ncat > \/mnt\/server\/DedicatedServerConfig.json <<EOF\r\n{\r\n  \"BanListPaths\": [ \"ban_list.txt\" ],\r\n  \"MaxPlayers\": 20,\r\n  \"MissionDirectory\": \"\/home\/steam\/NuclearOption-Missions\",\r\n  \"MissionRotation\": [\r\n    {\r\n      \"Key\": { \"Group\": \"BuiltIn\", \"Name\": \"Escalation\" },\r\n      \"MaxTime\": 7200\r\n    },\r\n    {\r\n      \"Key\": { \"Group\": \"BuiltIn\", \"Name\": \"Terminal Control\" },\r\n      \"MaxTime\": 7200\r\n    }\r\n  ],\r\n  \"ModdedServer\": false,\r\n  \"NoPlayerStopTime\": 30,\r\n  \"Password\": \"ChangeMe\",\r\n  \"Port\": { \"IsOverride\": true, \"Value\": ${SERVER_PORT} },\r\n  \"QueryPort\": { \"IsOverride\": true, \"Value\": ${QUERY_PORT} },\r\n  \"RotationType\": 0,\r\n  \"ServerName\": \"Pterodactyl-server\"\r\n}\r\nEOF\r\n\r\necho \"-----------------------------------------\"\r\necho \"Installation completed...\"\r\necho \"-----------------------------------------\"",
            "container": "ghcr.io\/ptero-eggs\/installers:debian",
            "entrypoint": "bash"
        }
    },
    "variables": [
        {
            "name": "Steam App ID",
            "description": "Steam App ID used for installation and updates. Rarely needs to be changed.",
            "env_variable": "SRCDS_APPID",
            "default_value": "3930080",
            "user_viewable": false,
            "user_editable": false,
            "rules": "required|string|in:3930080",
            "field_type": "text"
        },
        {
            "name": "Server Name",
            "description": "Name of the server",
            "env_variable": "SERVER_NAME",
            "default_value": "Pterodactyl-server",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|max:30",
            "field_type": "text"
        },
        {
            "name": "Max Players",
            "description": "Maximum number of players allowed",
            "env_variable": "MAX_PLAYERS",
            "default_value": "20",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string",
            "field_type": "text"
        },
        {
            "name": "Auto Update",
            "description": "Disabling or enabling automated updates on boot",
            "env_variable": "AUTO_UPDATE",
            "default_value": "1",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|boolean",
            "field_type": "text"
        },
        {
            "name": "Modded Server",
            "description": "Modded server, true or false",
            "env_variable": "MODDED_SERVER",
            "default_value": "false",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string",
            "field_type": "text"
        },
        {
            "name": "Server Password",
            "description": "The password used to join the server",
            "env_variable": "SERVER_PASSWORD",
            "default_value": "ChangeMe",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Query Port",
            "description": "",
            "env_variable": "QUERY_PORT",
            "default_value": "7777",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string",
            "field_type": "text"
        }
    ]
}